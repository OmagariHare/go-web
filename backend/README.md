# Go-Web Project - Backend

This is the backend service for the Go-Web application, built with Go and the Gin framework. It provides a robust, secure, and scalable foundation for the frontend.

---

## ğŸš€ Core Features

- **High-Performance API**: Built with [Gin](https://gin-gonic.com/), a high-performance HTTP web framework.
- **Authentication**: Secure user authentication using JSON Web Tokens (JWT).
- **Authorization**: Fine-grained access control powered by [Casbin](https://casbin.org/) for role-based permissions.
- **Database ORM**: Utilizes [GORM](https://gorm.io/) for elegant and efficient database interactions, with support for PostgreSQL.
- **Configuration Management**: Flexible configuration handling with [Viper](https://github.com/spf13/viper), allowing for easy setup via a `config.yaml` file.
- **Structured Logging**: Production-ready logging with [Zap](https://github.com/uber-go/zap) and `lumberjack` for log rotation.
- **Middleware Architecture**: A clean, modular middleware implementation for CORS, JWT validation, and logging.
- **RESTful Design**: Follows REST principles for a clean and predictable API.

---

## ğŸ› ï¸ Tech Stack

- **Framework**: [Gin](https://github.com/gin-gonic/gin)
- **Database**: [PostgreSQL](https://www.postgresql.org/)
- **ORM**: [GORM](https://gorm.io/)
- **Authentication**: [JWT-Go](https://github.com/golang-jwt/jwt)
- **Authorization**: [Casbin](https://github.com/casbin/casbin)
- **Configuration**: [Viper](https://github.com/spf13/viper)
- **Logging**: [Zap](https://github.com/uber-go/zap)

---

## âš™ï¸ Getting Started

Follow these instructions to get the backend service running on your local machine.

### Prerequisites

- [Go](https://golang.org/dl/) (version 1.18 or higher)
- [PostgreSQL](https://www.postgresql.org/download/) running locally or on a server

### Installation & Setup

1.  **Navigate to the backend directory**:
    ```sh
    cd go-web/backend
    ```

2.  **Install Go dependencies**:
    ```sh
    go mod tidy
    ```

3.  **Configure the application**:
    - Rename `config/config.yaml.example` to `config/config.yaml` (if an example file is provided).
    - Open `config/config.yaml` and update the following sections:
      - `database`: Set your PostgreSQL connection details (host, port, user, password, dbname).
      - `jwt`: Set a secret key for signing JWT tokens.

4.  **Initialize the database**:
    Run the database migration logic (if available) to set up the necessary tables. This might be part of the application's startup sequence.

### Running the Application

- **Start the server**:
  ```sh
  go run main.go
  ```
  The server will start, typically on port `8080` (as configured in `config.yaml`).

---

## ğŸ“„ API Documentation

Project uses Swagger to generate API documentation.

- **Swagger definition file**: The OpenAPI specification for the API is defined in `docs/swagger.yaml`.
- **Online documentation**: After the service is running, you can access `http://localhost:8080/swagger/index.html` to view and test the API.

---

## ğŸ“ Directory Structure Explained

```
backend/
â”œâ”€â”€ config/        # Viper configuration initialization and config.yaml configuration file
â”œâ”€â”€ controllers/   # Gin controller layer (Handler), processing HTTP requests
â”œâ”€â”€ database/      # Database connection (GORM) initialization
â”œâ”€â”€ docs/          # Swagger API documentation files
â”œâ”€â”€ dtos/          # Data Transfer Objects, for API requests and responses
â”œâ”€â”€ logs/          # Log files generated by Zap
â”œâ”€â”€ middleware/    # Gin middleware (JWT, CORS, Casbin, logging, etc.)
â”œâ”€â”€ models/        # GORM database model definitions
â”œâ”€â”€ repositories/  # Data repository layer, encapsulating database CRUD operations
â”œâ”€â”€ routers/       # API route definitions
â”œâ”€â”€ services/      # Core business logic layer
â”œâ”€â”€ utils/         # General utility functions (e.g., password processing, JWT generation)
â”œâ”€â”€ go.mod         # Go module dependency file
â”œâ”€â”€ go.sum         # Dependency checksums
â””â”€â”€ main.go        # Application entry point
```